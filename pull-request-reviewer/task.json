{
  "id": "2d853c7a-e888-46c2-9fd0-5b4e55520d63",
  "name": "pull-request-reviewer",
  "friendlyName": "Revision de PullRequest por AzureOpenAI",
  "description": "Esta tarea utiliza el modelo AzureOpenAi para revisar PullRequests",
  "author": "SatrackSAS",
  "helpMarkDown": "[Mas informacion](https://github.com/SatrackDevops01/extension-devops-pull-request)",
  "category": "Utility",
  "visibility": [
    "Build"
  ],
  "demands": [],
  "version": {
    "Major": "1",
    "Minor": "0",
    "Patch": "0"
  },
  "minimumAgentVersion": "1.95.0",
  "instanceNameFormat": "pull-request-reviewer $(message)",
  "inputs": [
    {
      "name": "analysis_mode",
      "type": "pickList",
      "label": "Modo de analisis",
      "defaultValue": "file",
      "options": {
        "file": "Por archivo (uno por cada archivo modificado)",
        "global": "Global (un unico analisis para el PR)"
      },
      "helpMarkDown": "Elije si quieres comentarios por archivo o un informe global"
    },
    {
      "name": "api_key",
      "type": "string",
      "label": "Api key",
      "defaultValue": "",
      "required": true,
      "helpMarkDown": "Api key de Azure OpenAI."
    },
    {
      "name": "aoi_endpoint",
      "type": "string",
      "label": "Endpoint de Azure OpenAI",
      "defaultValue": "",
      "required": true,
      "helpMarkDown": "Endpoint de Azure OpenAI. (required)"
    },
    {
      "name": "aoi_tokenMax",
      "type": "string",
      "label": "Azure Max Token",
      "defaultValue": "",
      "required": true,
      "helpMarkDown": "El número máximo de tokens a generar en la conclusión. El conteo de tokens de tu solicitud más max_tokens no puede exceder el tamaño del contexto del modelo. (requerido)"
    },
    {
      "name": "aoi_temperature",
      "type": "string",
      "label": "Temperatura de muestreo, usar entre 0 y 2.",
      "defaultValue": "0",
      "required": true,
      "helpMarkDown": "Temperatura de muestreo, usar entre 0 y 2. Valores más altos significan que el modelo toma más riesgos. Prueba 0.9 para aplicaciones más creativas y 0 para aquellas con una respuesta bien definida. (requerido)"
    },
    {
      "name": "prompt",
      "type": "multiLine",
      "label": "prompt",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Especifique su prompt. Si lo desea, puede crear su propio prompt. Ejemplo: Actúe como revisor de código de una solicitud de pull, proporcionando retroalimentación sobre posibles errores y problemas de código limpio.\nRecibirá los cambios de la solicitud de pull en formato de patch.\nCada entrada de patch tiene el mensaje de confirmación en la línea de asunto, seguido por los cambios de código (diffs) en formato unidiff.\n\nComo revisor de código, su tarea es:\n- Revisar solo las líneas añadidas, editadas o eliminadas.\n- Si no hay errores y los cambios son correctos, escriba solo 'Sin comentarios'.\n- Si hay errores o cambios de código incorrectos, no escriba 'Sin comentarios'."
    },
    {
      "name": "additional_prompts",
      "type": "multiLine",
      "label": "Additional Prompts",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Especifique su prompt adicional separado por comas."
    },
    {
      "name": "file_extensions",
      "type": "string",
      "label": "Extensiones de archivo",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Especifique una lista separada por comas de extensiones de archivo para las cuales desea ejecutar una revisión de código. Esta entrada ayuda a restringir el alcance de la revisión de código a tipos de archivo específicos.\n\n**Ejemplo:**\n```plaintext\n\".js,.ts,.css,.html\"\n```\n\nAsegúrese de proporcionar las extensiones de los archivos sin espacios después de las comas."
    },
    {
      "name": "file_excludes",
      "type": "string",
      "label": "Archivos a excluir",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "## Archivos a excluir de la configuración\n\n### Descripción\nEspecifique una lista separada por comas de nombres de archivos que deben excluirse de las revisiones de código. Esto es útil para excluir archivos confidenciales o impedir que determinados archivos sean revisados.\n\n### Formato\nProporcione una lista de nombres de archivos separados por comas. Por ejemplo: `file1.js, file2.py, secret.txt`\n\n### Valor predeterminado\nSi no se especifica ningún archivo, todos los archivos serán considerados para revisión de código por defecto."
    },
    {
      "name": "use_https",
      "type": "boolean",
      "label": "Support self-signed certificate",
      "defaultValue": "true",
      "required": true,
      "helpMarkDown": "Select this option to support self-signed certificate."
    }
  ],
  "execution": {
    "Node16": {
      "target": "index.js"
    }
  }
}